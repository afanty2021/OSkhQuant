============================= test session starts =============================
platform win32 -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- D:\scoop\apps\miniconda\current\envs\khquant-test\python.exe
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
PyQt5 5.15.11 -- Qt runtime 5.15.2 -- Qt compiled 5.15.2
rootdir: G:\berton\oskhquant
configfile: pytest.ini
plugins: benchmark-5.2.3, cov-7.0.0, mock-3.15.1, qt-4.5.0, timeout-2.4.0, xdist-3.8.0
collecting ... collected 706 items / 91 deselected / 615 selected

tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_custom_files_initialization FAILED [  0%]
tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_initial_state FAILED [  0%]
tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_scheduler_creation FAILED [  0%]
tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_stock_names_cache FAILED [  0%]
tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_timer_initialization FAILED [  0%]
tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_tools_initialization FAILED [  0%]
tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_window_title FAILED [  1%]
tests/test_GUIScheduler.py::TestScreenResolutionDetection::test_1080p_resolution_font_scale FAILED [  1%]
tests/test_GUIScheduler.py::TestScreenResolutionDetection::test_2k_resolution_font_scale FAILED [  1%]
tests/test_GUIScheduler.py::TestScreenResolutionDetection::test_4k_resolution_font_scale FAILED [  1%]
tests/test_GUIScheduler.py::TestScreenResolutionDetection::test_low_resolution_font_scale FAILED [  1%]
tests/test_GUIScheduler.py::TestStockPoolSelection::test_on_stock_pool_changed FAILED [  1%]
tests/test_GUIScheduler.py::TestStockPoolSelection::test_stock_pool_checkbox_types FAILED [  2%]
tests/test_GUIScheduler.py::TestStockPoolSelection::test_stock_pool_checkboxes_exist FAILED [  2%]
tests/test_GUIScheduler.py::TestPeriodSelection::test_default_period_selection FAILED [  2%]
tests/test_GUIScheduler.py::TestPeriodSelection::test_period_checkbox_types FAILED [  2%]
tests/test_GUIScheduler.py::TestPeriodSelection::test_period_checkboxes_exist FAILED [  2%]
tests/test_GUIScheduler.py::TestScheduleConfiguration::test_default_supplement_time FAILED [  2%]
tests/test_GUIScheduler.py::TestScheduleToggle::test_start_with_validation FAILED [  3%]
tests/test_GUIScheduler.py::TestScheduleToggle::test_start_without_validation FAILED [  3%]
tests/test_GUIScheduler.py::TestScheduleExecution::test_check_and_execute_on_non_trading_day FAILED [  3%]
tests/test_GUIScheduler.py::TestScheduleExecution::test_check_and_execute_on_trading_day FAILED [  3%]
tests/test_GUIScheduler.py::TestImmediateExecution::test_immediate_execution_on_non_trading_day FAILED [  3%]
tests/test_GUIScheduler.py::TestImmediateExecution::test_immediate_execution_on_trading_day FAILED [  3%]
tests/test_GUIScheduler.py::TestValidation::test_validate_no_period FAILED [  4%]
tests/test_GUIScheduler.py::TestValidation::test_validate_no_stock_pool FAILED [  4%]
tests/test_GUIScheduler.py::TestValidation::test_validate_success FAILED [  4%]
tests/test_GUIScheduler.py::TestLogging::test_add_log FAILED             [  4%]
tests/test_GUIScheduler.py::TestLogging::test_clear_log FAILED           [  4%]
tests/test_GUIScheduler.py::TestCustomStockFile::test_clear_stock_pools FAILED [  4%]
tests/test_GUIScheduler.py::TestCustomStockFile::test_get_custom_pool_path FAILED [  5%]
tests/test_GUIScheduler.py::TestWindowClose::test_close_with_running_task_cancel FAILED [  5%]
tests/test_GUIScheduler.py::TestWindowClose::test_close_with_running_task_confirm FAILED [  5%]
tests/test_GUIScheduler.py::TestWindowClose::test_close_without_running_task FAILED [  5%]
tests/test_GUIScheduler.py::TestScheduledSupplementThread::test_thread_creation FAILED [  5%]
tests/test_GUIScheduler.py::TestScheduledSupplementThread::test_thread_initial_state FAILED [  5%]
tests/test_GUIScheduler.py::TestScheduledSupplementThread::test_thread_stop FAILED [  6%]
tests/test_GUIScheduler.py::TestSupplementDataWorker::test_worker_function_exists FAILED [  6%]
tests/test_GUIScheduler.py::TestStylesheetApplication::test_complete_scaled_stylesheet FAILED [  6%]
tests/test_GUIScheduler.py::TestStylesheetApplication::test_scaled_stylesheet_generation FAILED [  6%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_ABS_absolute PASSED   [  6%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_IF_conditional PASSED [  6%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_LN_logarithm PASSED   [  6%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_MAX_maximum PASSED    [  7%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_MIN_minimum PASSED    [  7%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_POW_power PASSED      [  7%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_RD_rounding PASSED    [  7%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_RET_last_value PASSED [  7%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_RET_nth_value PASSED  [  7%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_SIN_cosine_tangent PASSED [  8%]
tests/test_MyTT.py::TestLevel0BasicFunctions::test_SQRT_square_root PASSED [  8%]
tests/test_MyTT.py::TestLevel0SequenceFunctions::test_CONST_constant PASSED [  8%]
tests/test_MyTT.py::TestLevel0SequenceFunctions::test_DIFF_difference PASSED [  8%]
tests/test_MyTT.py::TestLevel0SequenceFunctions::test_REF_shift PASSED   [  8%]
tests/test_MyTT.py::TestLevel0SequenceFunctions::test_STD_standard_deviation PASSED [  8%]
tests/test_MyTT.py::TestLevel0SequenceFunctions::test_SUM_cumulation PASSED [  9%]
tests/test_MyTT.py::TestLevel0SequenceFunctions::test_SUM_cumulative_all PASSED [  9%]
tests/test_MyTT.py::TestLevel0ExtremeFunctions::test_HHVBARS PASSED      [  9%]
tests/test_MyTT.py::TestLevel0ExtremeFunctions::test_HHV_dynamic_period PASSED [  9%]
tests/test_MyTT.py::TestLevel0ExtremeFunctions::test_HHV_fixed_period PASSED [  9%]
tests/test_MyTT.py::TestLevel0ExtremeFunctions::test_LLVBARS PASSED      [  9%]
tests/test_MyTT.py::TestLevel0ExtremeFunctions::test_LLV_dynamic_period PASSED [ 10%]
tests/test_MyTT.py::TestLevel0ExtremeFunctions::test_LLV_fixed_period PASSED [ 10%]
tests/test_MyTT.py::TestLevel0MovingAverage::test_DMA_dynamic_moving_average PASSED [ 10%]
tests/test_MyTT.py::TestLevel0MovingAverage::test_DMA_sequence_alpha PASSED [ 10%]
tests/test_MyTT.py::TestLevel0MovingAverage::test_EMA_exponential_moving_average PASSED [ 10%]
tests/test_MyTT.py::TestLevel0MovingAverage::test_MA_simple_moving_average PASSED [ 10%]
tests/test_MyTT.py::TestLevel0MovingAverage::test_SMA_smoothed_moving_average PASSED [ 11%]
tests/test_MyTT.py::TestLevel0MovingAverage::test_WMA_weighted_moving_average PASSED [ 11%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_BARSLAST PASSED [ 11%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_BARSLASTCOUNT PASSED [ 11%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_BARSSINCEN PASSED [ 11%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_BETWEEN PASSED  [ 11%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_COUNT PASSED    [ 12%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_CROSS PASSED    [ 12%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_EVERY PASSED    [ 12%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_EXIST PASSED    [ 12%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_FILTER PASSED   [ 12%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_LONGCROSS PASSED [ 12%]
tests/test_MyTT.py::TestLevel1ApplicationFunctions::test_VALUEWHEN PASSED [ 13%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_ATR_calculation PASSED [ 13%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_BIAS_calculation PASSED [ 13%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_BOLL_calculation PASSED [ 13%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_CCI_calculation PASSED [ 13%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_CR_calculation PASSED [ 13%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_DMI_calculation PASSED [ 13%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_DPO_calculation PASSED [ 14%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_KDJ_calculation PASSED [ 14%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_MACD_calculation PASSED [ 14%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_MACD_custom_params PASSED [ 14%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_MFI_calculation PASSED [ 14%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_MTM_calculation PASSED [ 14%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_OBV_calculation PASSED [ 15%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_PSY_calculation PASSED [ 15%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_ROC_calculation PASSED [ 15%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_RSI_calculation PASSED [ 15%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_SAR_calculation PASSED [ 15%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_TDX_SAR_calculation PASSED [ 15%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_TRI_calculation PASSED [ 16%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_VR_calculation PASSED [ 16%]
tests/test_MyTT.py::TestLevel2TechnicalIndicators::test_WR_calculation PASSED [ 16%]
tests/test_MyTT.py::TestEdgeCases::test_empty_series PASSED              [ 16%]
tests/test_MyTT.py::TestEdgeCases::test_nan_handling PASSED              [ 16%]
tests/test_MyTT.py::TestEdgeCases::test_negative_values PASSED           [ 16%]
tests/test_MyTT.py::TestEdgeCases::test_single_value_series PASSED       [ 17%]
tests/test_MyTT.py::TestEdgeCases::test_zero_values PASSED               [ 17%]
tests/test_MyTT.py::TestExtendedFunctions::test_DSMA PASSED              [ 17%]
tests/test_MyTT.py::TestExtendedFunctions::test_SUMBARSFAST PASSED       [ 17%]
tests/test_SettingsDialog.py::TestSettingsDialogInitialization::test_dialog_creation PASSED [ 17%]
tests/test_SettingsDialog.py::TestSettingsDialogInitialization::test_dialog_minimum_width PASSED [ 17%]
tests/test_SettingsDialog.py::TestSettingsDialogInitialization::test_dialog_modal PASSED [ 18%]
tests/test_SettingsDialog.py::TestSettingsDialogInitialization::test_dialog_title PASSED [ 18%]
tests/test_SettingsDialog.py::TestSettingsDialogInitialization::test_settings_initialization PASSED [ 18%]
tests/test_SettingsDialog.py::TestRiskFreeRateSetting::test_custom_risk_free_rate_loading PASSED [ 18%]
tests/test_SettingsDialog.py::TestRiskFreeRateSetting::test_default_risk_free_rate PASSED [ 18%]
tests/test_SettingsDialog.py::TestRiskFreeRateSetting::test_risk_free_rate_precision PASSED [ 18%]
tests/test_SettingsDialog.py::TestRiskFreeRateSetting::test_risk_free_rate_validator PASSED [ 19%]
tests/test_SettingsDialog.py::TestDelayLogSetting::test_custom_delay_log_loading PASSED [ 19%]
tests/test_SettingsDialog.py::TestDelayLogSetting::test_default_delay_log_enabled PASSED [ 19%]
tests/test_SettingsDialog.py::TestMaxLogLinesSetting::test_custom_max_log_lines_loading PASSED [ 19%]
tests/test_SettingsDialog.py::TestMaxLogLinesSetting::test_default_max_log_lines PASSED [ 19%]
tests/test_SettingsDialog.py::TestMaxLogLinesSetting::test_max_log_lines_validator PASSED [ 19%]
tests/test_SettingsDialog.py::TestInitDataSetting::test_custom_init_data_loading PASSED [ 20%]
tests/test_SettingsDialog.py::TestInitDataSetting::test_default_init_data_disabled PASSED [ 20%]
tests/test_SettingsDialog.py::TestAccountSettings::test_account_type_options PASSED [ 20%]
tests/test_SettingsDialog.py::TestAccountSettings::test_custom_account_id_loading FAILED [ 20%]
tests/test_SettingsDialog.py::TestAccountSettings::test_custom_account_type_loading PASSED [ 20%]
tests/test_SettingsDialog.py::TestAccountSettings::test_default_account_id PASSED [ 20%]
tests/test_SettingsDialog.py::TestAccountSettings::test_default_account_type PASSED [ 20%]
tests/test_SettingsDialog.py::TestPathSettings::test_custom_client_path_loading PASSED [ 21%]
tests/test_SettingsDialog.py::TestPathSettings::test_custom_qmt_path_loading FAILED [ 21%]
tests/test_SettingsDialog.py::TestPathSettings::test_default_client_path PASSED [ 21%]
tests/test_SettingsDialog.py::TestPathSettings::test_default_qmt_path PASSED [ 21%]
tests/test_SettingsDialog.py::TestSaveSettings::test_save_account_settings PASSED [ 21%]
tests/test_SettingsDialog.py::TestSaveSettings::test_save_delay_log_setting PASSED [ 21%]
tests/test_SettingsDialog.py::TestSaveSettings::test_save_init_data_setting FAILED [ 22%]
tests/test_SettingsDialog.py::TestSaveSettings::test_save_max_log_lines PASSED [ 22%]
tests/test_SettingsDialog.py::TestSaveSettings::test_save_path_settings PASSED [ 22%]
tests/test_SettingsDialog.py::TestSaveSettings::test_save_risk_free_rate PASSED [ 22%]
tests/test_SettingsDialog.py::TestInputValidation::test_invalid_max_log_lines_format PASSED [ 22%]
tests/test_SettingsDialog.py::TestInputValidation::test_invalid_max_log_lines_high PASSED [ 22%]
tests/test_SettingsDialog.py::TestInputValidation::test_invalid_max_log_lines_low PASSED [ 23%]
tests/test_SettingsDialog.py::TestInputValidation::test_invalid_risk_free_rate_format PASSED [ 23%]
tests/test_SettingsDialog.py::TestInputValidation::test_invalid_risk_free_rate_high PASSED [ 23%]
tests/test_SettingsDialog.py::TestInputValidation::test_invalid_risk_free_rate_low PASSED [ 23%]
tests/test_SettingsDialog.py::TestInputValidation::test_nonexistent_client_path PASSED [ 23%]
tests/test_SettingsDialog.py::TestVersionInfo::test_build_date_display PASSED [ 23%]
tests/test_SettingsDialog.py::TestVersionInfo::test_channel_display PASSED [ 24%]
tests/test_SettingsDialog.py::TestVersionInfo::test_version_info_display PASSED [ 24%]
tests/test_SettingsDialog.py::TestFeedbackButton::test_feedback_button_click PASSED [ 24%]
tests/test_SettingsDialog.py::TestStockListUpdate::test_stock_list_update_success PASSED [ 24%]
tests/test_SettingsDialog.py::TestDialogClose::test_close_button PASSED  [ 24%]
tests/test_SettingsDialog.py::TestDialogClose::test_save_and_close PASSED [ 24%]
tests/test_SettingsDialog.py::TestWindowStyling::test_button_styling PASSED [ 25%]
tests/test_SettingsDialog.py::TestWindowStyling::test_dark_background_color PASSED [ 25%]
tests/test_SettingsDialog.py::TestWindowStyling::test_group_box_styling PASSED [ 25%]
tests/test_SettingsDialog.py::TestUIComponents::test_account_id_input_exists PASSED [ 25%]
tests/test_SettingsDialog.py::TestUIComponents::test_account_type_selector_exists PASSED [ 25%]
tests/test_SettingsDialog.py::TestUIComponents::test_client_path_edit_exists PASSED [ 25%]
tests/test_SettingsDialog.py::TestUIComponents::test_delay_log_checkbox_exists PASSED [ 26%]
tests/test_SettingsDialog.py::TestUIComponents::test_init_data_checkbox_exists PASSED [ 26%]
tests/test_SettingsDialog.py::TestUIComponents::test_max_log_lines_edit_exists PASSED [ 26%]
tests/test_SettingsDialog.py::TestUIComponents::test_qmt_path_edit_exists PASSED [ 26%]
tests/test_SettingsDialog.py::TestUIComponents::test_risk_free_rate_edit_exists PASSED [ 26%]
tests/test_constants.py::TestRunMode::test_run_mode_string_values PASSED [ 26%]
tests/test_constants.py::TestRunMode::test_run_mode_values PASSED        [ 26%]
tests/test_constants.py::TestAlertType::test_alert_type_string_values PASSED [ 27%]
tests/test_constants.py::TestAlertType::test_alert_type_values PASSED    [ 27%]
tests/test_constants.py::TestConstantsIntegration::test_all_run_modes PASSED [ 27%]
tests/test_constants.py::TestConstantsIntegration::test_run_mode_not_equal_to_alert_type PASSED [ 27%]
tests/test_khAlertManager.py::TestSoundAlert::test_sound_alert_custom_params 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [WARNING] 声音文件不存在: custom.wav，将使用系统蜂鸣声
PASSED                                                                   [ 27%]
tests/test_khAlertManager.py::TestSoundAlert::test_sound_alert_init PASSED [ 27%]
tests/test_khAlertManager.py::TestSoundAlert::test_sound_alert_play_disabled PASSED [ 28%]
tests/test_khAlertManager.py::TestWeChatAlert::test_wechat_alert_init_empty_key PASSED [ 28%]
tests/test_khAlertManager.py::TestWeChatAlert::test_wechat_alert_init_no_key PASSED [ 28%]
tests/test_khAlertManager.py::TestWeChatAlert::test_wechat_alert_init_with_key PASSED [ 28%]
tests/test_khAlertManager.py::TestWeChatAlert::test_wechat_alert_push 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 微信推送成功: 测试标题

tests/test_khAlertManager.py::TestWeChatAlert::test_wechat_alert_push_signal 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 微信推送成功: 【卖出信号提醒】600036.SH

tests/test_khAlertManager.py::TestKhAlertManager::test_alert_manager_init_custom_config 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [WARNING] 声音文件不存在: alert.wav，将使用系统蜂鸣声
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 29%]
tests/test_khAlertManager.py::TestKhAlertManager::test_alert_manager_init_default 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 29%]
tests/test_khAlertManager.py::TestKhAlertManager::test_check_dedup_no_cache 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 29%]
tests/test_khAlertManager.py::TestKhAlertManager::test_check_dedup_with_cache 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 29%]
tests/test_khAlertManager.py::TestKhAlertManager::test_clear_dedup_cache_all 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 29%]
tests/test_khAlertManager.py::TestKhAlertManager::test_clear_dedup_cache_specific 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 29%]
tests/test_khAlertManager.py::TestKhAlertManager::test_get_stats 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000001.SZ buy @ 10.0
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 600036.SH buy @ 20.0
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000002.SZ sell @ 15.0
PASSED                                                                   [ 30%]
tests/test_khAlertManager.py::TestKhAlertManager::test_on_signal_dedup 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000001.SZ buy @ 10.5
2026-02-09 23:18:40 [INFO] 信号被去重: 000001.SZ buy
PASSED                                                                   [ 30%]
tests/test_khAlertManager.py::TestKhAlertManager::test_on_signal_skip_dedup 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000001.SZ buy @ 10.5
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000001.SZ buy @ 10.5
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000001.SZ buy @ 10.5
PASSED                                                                   [ 30%]
tests/test_khAlertManager.py::TestKhAlertManager::test_on_signal_with_sound 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000001.SZ buy @ 10.5
PASSED                                                                   [ 30%]
tests/test_khAlertManager.py::TestKhAlertManager::test_on_signal_with_wechat 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 600036.SH sell @ 50.0
PASSED                                                                   [ 30%]
tests/test_khAlertManager.py::TestKhAlertManager::test_reset_stats 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 30%]
tests/test_khAlertManager.py::TestKhAlertManager::test_update_config 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
2026-02-09 23:18:40 [INFO] 声音提醒已禁用
PASSED                                                                   [ 31%]
tests/test_khAlertManager.py::TestKhAlertManager::test_update_dedup 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 31%]
tests/test_khAlertManager.py::TestAlertConstants::test_alert_direction PASSED [ 31%]
tests/test_khAlertManager.py::TestAlertConstants::test_alert_type PASSED [ 31%]
tests/test_khAlertManager.py::TestCreateAlertManager::test_create_alert_manager 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
PASSED                                                                   [ 31%]
tests/test_khAlertManager.py::TestKhAlertManagerIntegration::test_full_alert_flow 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] 提醒管理器初始化完成
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000001.SZ buy @ 10.5
2026-02-09 23:18:40 [INFO] 信号提醒已触发: 000001.SZ sell @ 11.0
2026-02-09 23:18:40 [INFO] 信号被去重: 000001.SZ buy
PASSED                                                                   [ 31%]
tests/test_khConfig.py::TestKhConfigAlert::test_alert_config_defaults PASSED [ 32%]
tests/test_khConfig.py::TestKhConfigAlert::test_alert_config_loading PASSED [ 32%]
tests/test_khConfig.py::TestKhConfigRealtime::test_realtime_config_defaults PASSED [ 32%]
tests/test_khConfig.py::TestKhConfigRealtime::test_realtime_config_loading PASSED [ 32%]
tests/test_khConfig.py::TestKhConfigDefaultConstants::test_default_alert_config PASSED [ 32%]
tests/test_khConfig.py::TestKhConfigDefaultConstants::test_default_realtime_config PASSED [ 32%]
tests/test_khConfig.py::TestKhConfigUpdate::test_update_alert_config_via_property PASSED [ 33%]
tests/test_khConfig.py::TestKhConfigUpdate::test_update_stock_list PASSED [ 33%]
tests/test_khConfig.py::TestKhConfigIntegration::test_full_config_loading PASSED [ 33%]
tests/test_khConfig.py::TestKhConfigIntegration::test_initial_cash_property PASSED [ 33%]
tests/test_khFrame.py::TestDummySignal::test_emit PASSED                 [ 33%]
tests/test_khFrame.py::TestSimpleGUI::test_initialization PASSED         [ 33%]
tests/test_khFrame.py::TestSimpleGUI::test_log_message 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] [INFO] 2026-02-09 23:18:40.838098 - 测试消息
PASSED                                                                   [ 33%]
tests/test_khFrame.py::TestSimpleGUI::test_on_strategy_finished 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:40 [INFO] [INFO] 2026-02-09 23:18:40.845106 - 策略执行完成
PASSED                                                                   [ 34%]
tests/test_khFrame.py::TestTriggerBase::test_get_data_period PASSED      [ 34%]
tests/test_khFrame.py::TestTriggerBase::test_should_trigger_default PASSED [ 34%]
tests/test_khFrame.py::TestTickTrigger::test_get_data_period PASSED      [ 34%]
tests/test_khFrame.py::TestTickTrigger::test_should_trigger_always_true PASSED [ 34%]
tests/test_khFrame.py::TestKLineTrigger::test_1d_trigger PASSED          [ 34%]
tests/test_khFrame.py::TestKLineTrigger::test_1m_trigger PASSED          [ 35%]
tests/test_khFrame.py::TestKLineTrigger::test_5m_trigger PASSED          [ 35%]
tests/test_khFrame.py::TestKLineTrigger::test_get_data_period PASSED     [ 35%]
tests/test_khFrame.py::TestCustomTimeTrigger::test_get_data_period PASSED [ 35%]
tests/test_khFrame.py::TestCustomTimeTrigger::test_initialization PASSED [ 35%]
tests/test_khFrame.py::TestCustomTimeTrigger::test_trigger_at_custom_time PASSED [ 35%]
tests/test_khFrame.py::TestTriggerFactory::test_create_custom_trigger PASSED [ 36%]
tests/test_khFrame.py::TestTriggerFactory::test_create_default_trigger PASSED [ 36%]
tests/test_khFrame.py::TestTriggerFactory::test_create_kline_trigger PASSED [ 36%]
tests/test_khFrame.py::TestTriggerFactory::test_create_tick_trigger PASSED [ 36%]
tests/test_khFrame.py::TestMyTraderCallback::test_initialization PASSED  [ 36%]
tests/test_khFrame.py::TestMyTraderCallback::test_on_connected PASSED    [ 36%]
tests/test_khFrame.py::TestMyTraderCallback::test_on_disconnected 
-------------------------------- live log call --------------------------------
FAILED                                                                   [ 37%]
tests/test_khFrame.py::TestMyTraderCallback::test_on_order_error 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [ERROR] 委托报错回调 测试 测试错误
PASSED                                                                   [ 37%]
tests/test_khFrame.py::TestMyTraderCallback::test_on_stock_order 
-------------------------------- live log call --------------------------------
PASSED                                                                   [ 37%]
tests/test_khFrame.py::TestMyTraderCallback::test_on_stock_trade 
-------------------------------- live log call --------------------------------
PASSED                                                                   [ 37%]
tests/test_khFrame.py::TestMyTraderCallback::test_set_price_decimals PASSED [ 37%]
tests/test_khFrame.py::TestKhQuantFrameworkBasic::test_check_connection PASSED [ 37%]
tests/test_khFrame.py::TestKhQuantFrameworkBasic::test_get_stock_list PASSED [ 38%]
tests/test_khFrame.py::TestKhQuantFrameworkBasic::test_init_virtual_account 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [INFO] 虚拟账户初始化完成: test_account
2026-02-09 23:18:42 [INFO] 初始资产: {'account_type': 2, 'account_id': 'test_account', 'cash': 1000000.0, 'frozen_cash': 0.0, 'market_value': 0.0, 'total_asset': 1000000.0, 'benchmark': '000300.SH'}
2026-02-09 23:18:42 [INFO] 基准合约: 000300.SH
PASSED                                                                   [ 38%]
tests/test_khFrame.py::TestKhQuantFrameworkBasic::test_initialization PASSED [ 38%]
tests/test_khFrame.py::TestKhQuantFrameworkBasic::test_log_methods 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [ERROR] [ERROR] 2026-02-09 23:18:42.415640 - 测试错误
PASSED                                                                   [ 38%]
tests/test_khFrame.py::TestKhQuantFrameworkBasic::test_stop PASSED       [ 38%]
tests/test_khFrame.py::TestKhQuantFrameworkBasic::test_trigger_creation PASSED [ 38%]
tests/test_khFrame.py::TestKhQuantFrameworkCallbacks::test_on_order_error 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [ERROR] [ERROR] 委托错误: 测试错误
PASSED                                                                   [ 39%]
tests/test_khFrame.py::TestKhQuantFrameworkCallbacks::test_on_stock_asset 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [INFO] 资产变动: 总资产=<Mock name='mock.total_asset' id='1877247429520'>
PASSED                                                                   [ 39%]
tests/test_khFrame.py::TestKhQuantFrameworkCallbacks::test_on_stock_order 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [INFO] 委托回报: 000001.SZ
PASSED                                                                   [ 39%]
tests/test_khFrame.py::TestKhQuantFrameworkCallbacks::test_on_stock_position 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [INFO] 处理持仓变动回调时出错: 'KhQuantFramework' object has no attribute 'price_decimals'
PASSED                                                                   [ 39%]
tests/test_khFrame.py::TestKhQuantFrameworkCallbacks::test_on_stock_trade 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [INFO] 成交回报: 000001.SZ
PASSED                                                                   [ 39%]
tests/test_khQTTools.py::TestETFDetection::test_determine_pool_type_empty PASSED [ 39%]
tests/test_khQTTools.py::TestETFDetection::test_determine_pool_type_etf_only PASSED [ 40%]
tests/test_khQTTools.py::TestETFDetection::test_determine_pool_type_mixed PASSED [ 40%]
tests/test_khQTTools.py::TestETFDetection::test_determine_pool_type_stock_only PASSED [ 40%]
tests/test_khQTTools.py::TestETFDetection::test_is_etf_lof_exclusion PASSED [ 40%]
tests/test_khQTTools.py::TestETFDetection::test_is_etf_not_etf PASSED    [ 40%]
tests/test_khQTTools.py::TestETFDetection::test_is_etf_shanghai_51 PASSED [ 40%]
tests/test_khQTTools.py::TestETFDetection::test_is_etf_shanghai_52 PASSED [ 40%]
tests/test_khQTTools.py::TestETFDetection::test_is_etf_shenzhen_159 PASSED [ 41%]
tests/test_khQTTools.py::TestT0Trading::test_check_t0_support_all_t0 PASSED [ 41%]
tests/test_khQTTools.py::TestT0Trading::test_check_t0_support_empty PASSED [ 41%]
tests/test_khQTTools.py::TestT0Trading::test_check_t0_support_mixed PASSED [ 41%]
tests/test_khQTTools.py::TestT0Trading::test_check_t0_support_no_t0 PASSED [ 41%]
tests/test_khQTTools.py::TestT0Trading::test_get_t0_details PASSED       [ 41%]
tests/test_khQTTools.py::TestT0Trading::test_is_t0_etf_false PASSED      [ 42%]
tests/test_khQTTools.py::TestT0Trading::test_is_t0_etf_true PASSED       [ 42%]
tests/test_khQTTools.py::TestPriceHandling::test_format_price_etf PASSED [ 42%]
tests/test_khQTTools.py::TestPriceHandling::test_format_price_integer PASSED [ 42%]
tests/test_khQTTools.py::TestPriceHandling::test_format_price_stock PASSED [ 42%]
tests/test_khQTTools.py::TestPriceHandling::test_get_price_decimals_empty_dict PASSED [ 42%]
tests/test_khQTTools.py::TestPriceHandling::test_get_price_decimals_none PASSED [ 43%]
tests/test_khQTTools.py::TestPriceHandling::test_get_price_decimals_with_framework PASSED [ 43%]
tests/test_khQTTools.py::TestPriceHandling::test_round_price_with_decimals PASSED [ 43%]
tests/test_khQTTools.py::TestTimeTools::test_get_trade_days_count 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [ERROR] 计算交易日天数时出错: strptime() argument 1 must be str, not datetime.date
PASSED                                                                   [ 43%]
tests/test_khQTTools.py::TestTimeTools::test_is_trade_day_holiday PASSED [ 43%]
tests/test_khQTTools.py::TestTimeTools::test_is_trade_day_weekday PASSED [ 43%]
tests/test_khQTTools.py::TestTimeTools::test_is_trade_day_weekend PASSED [ 44%]
tests/test_khQTTools.py::TestTimeTools::test_is_trade_time PASSED        [ 44%]
tests/test_khQTTools.py::TestKhQuTools::test_calculate_moving_average PASSED [ 44%]
tests/test_khQTTools.py::TestKhQuTools::test_get_trade_days_count 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:42 [INFO] 从 2024-01-01 到 2024-01-10 共有 7 个交易日
PASSED                                                                   [ 44%]
tests/test_khQTTools.py::TestKhQuTools::test_initialization PASSED       [ 44%]
tests/test_khQTTools.py::TestKhQuTools::test_is_trade_day PASSED         [ 44%]
tests/test_khQTTools.py::TestKhQuTools::test_is_trade_time PASSED        [ 45%]
tests/test_khQTTools.py::TestUtilityFunctions::test_market_type_detection PASSED [ 45%]
tests/test_khQTTools.py::TestUtilityFunctions::test_stock_code_validation PASSED [ 45%]
tests/test_khQuantImport.py::TestIsValidValue::test_inf_value PASSED     [ 45%]
tests/test_khQuantImport.py::TestIsValidValue::test_nan_float PASSED     [ 45%]
tests/test_khQuantImport.py::TestIsValidValue::test_none_value PASSED    [ 45%]
tests/test_khQuantImport.py::TestIsValidValue::test_valid_float PASSED   [ 46%]
tests/test_khQuantImport.py::TestIsValidValue::test_valid_int PASSED     [ 46%]
tests/test_khQuantImport.py::TestIsValidValue::test_valid_string PASSED  [ 46%]
tests/test_khQuantImport.py::TestGetTickCompatibleField::test_close_field_kline_data PASSED [ 46%]
tests/test_khQuantImport.py::TestGetTickCompatibleField::test_close_field_tick_data PASSED [ 46%]
tests/test_khQuantImport.py::TestGetTickCompatibleField::test_dict_without_get PASSED [ 46%]
tests/test_khQuantImport.py::TestGetTickCompatibleField::test_lastPrice_field PASSED [ 46%]
tests/test_khQuantImport.py::TestGetTickCompatibleField::test_missing_field PASSED [ 47%]
tests/test_khQuantImport.py::TestGetTickCompatibleField::test_nan_value_handling PASSED [ 47%]
tests/test_khQuantImport.py::TestGetTickCompatibleField::test_open_field PASSED [ 47%]
tests/test_khQuantImport.py::TestGetTickCompatibleField::test_pandas_series PASSED [ 47%]
tests/test_khQuantImport.py::TestTimeInfo::test_date_num_property PASSED [ 47%]
tests/test_khQuantImport.py::TestTimeInfo::test_date_str_property PASSED [ 47%]
tests/test_khQuantImport.py::TestTimeInfo::test_datetime_num_property PASSED [ 48%]
tests/test_khQuantImport.py::TestTimeInfo::test_datetime_obj_property PASSED [ 48%]
tests/test_khQuantImport.py::TestTimeInfo::test_datetime_str_property PASSED [ 48%]
tests/test_khQuantImport.py::TestTimeInfo::test_empty_current_time PASSED [ 48%]
tests/test_khQuantImport.py::TestTimeInfo::test_missing_current_time PASSED [ 48%]
tests/test_khQuantImport.py::TestTimeInfo::test_time_str_property PASSED [ 48%]
tests/test_khQuantImport.py::TestTimeInfo::test_timestamp_property PASSED [ 49%]
tests/test_khQuantImport.py::TestStockDataParser::test_array_data PASSED [ 49%]
tests/test_khQuantImport.py::TestStockDataParser::test_empty_pandas_series PASSED [ 49%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_close PASSED  [ 49%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_high PASSED   [ 49%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_low PASSED    [ 49%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_missing_stock PASSED [ 50%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_open PASSED   [ 50%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_price_close PASSED [ 50%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_price_high PASSED [ 50%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_price_low PASSED [ 50%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_price_missing_stock PASSED [ 50%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_price_open PASSED [ 51%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_price_volume PASSED [ 51%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_stock_data PASSED [ 51%]
tests/test_khQuantImport.py::TestStockDataParser::test_get_volume PASSED [ 51%]
tests/test_khQuantImport.py::TestStockDataParser::test_nan_price_handling PASSED [ 51%]
tests/test_khQuantImport.py::TestStockDataParser::test_none_price_handling PASSED [ 51%]
tests/test_khQuantImport.py::TestStockDataParser::test_pandas_series_data PASSED [ 52%]
tests/test_khQuantImport.py::TestStockDataParser::test_string_price_conversion PASSED [ 52%]
tests/test_khQuantImport.py::TestStockDataParser::test_tick_data_with_lastPrice PASSED [ 52%]
tests/test_khQuantImport.py::TestPositionParser::test_empty_positions PASSED [ 52%]
tests/test_khQuantImport.py::TestPositionParser::test_get_all_positions PASSED [ 52%]
tests/test_khQuantImport.py::TestPositionParser::test_get_cost PASSED    [ 52%]
tests/test_khQuantImport.py::TestPositionParser::test_get_volume PASSED  [ 53%]
tests/test_khQuantImport.py::TestPositionParser::test_has_position_false PASSED [ 53%]
tests/test_khQuantImport.py::TestPositionParser::test_has_position_true PASSED [ 53%]
tests/test_khQuantImport.py::TestPositionParser::test_has_position_zero_volume PASSED [ 53%]
tests/test_khQuantImport.py::TestStockPoolParser::test_contains_stock_false PASSED [ 53%]
tests/test_khQuantImport.py::TestStockPoolParser::test_contains_stock_true PASSED [ 53%]
tests/test_khQuantImport.py::TestStockPoolParser::test_empty_pool PASSED [ 53%]
tests/test_khQuantImport.py::TestStockPoolParser::test_first_stock PASSED [ 54%]
tests/test_khQuantImport.py::TestStockPoolParser::test_get_all_stocks PASSED [ 54%]
tests/test_khQuantImport.py::TestStockPoolParser::test_pool_size PASSED  [ 54%]
tests/test_khQuantImport.py::TestStrategyContext::test_buy_signal PASSED [ 54%]
tests/test_khQuantImport.py::TestStrategyContext::test_buy_signal_invalid_price 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:43 [WARNING] 无法获取股票 000001.SZ 的价格信息
PASSED                                                                   [ 54%]
tests/test_khQuantImport.py::TestStrategyContext::test_pool_property PASSED [ 54%]
tests/test_khQuantImport.py::TestStrategyContext::test_positions_property PASSED [ 55%]
tests/test_khQuantImport.py::TestStrategyContext::test_sell_signal PASSED [ 55%]
tests/test_khQuantImport.py::TestStrategyContext::test_sell_signal_invalid_price 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:43 [WARNING] 无法获取股票 000001.SZ 的价格信息
PASSED                                                                   [ 55%]
tests/test_khQuantImport.py::TestStrategyContext::test_stocks_property PASSED [ 55%]
tests/test_khQuantImport.py::TestStrategyContext::test_time_property PASSED [ 55%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_cash PASSED [ 55%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_custom_key PASSED [ 56%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_date PASSED [ 56%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_date_num PASSED [ 56%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_date_str PASSED [ 56%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_datetime PASSED [ 56%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_datetime_obj PASSED [ 56%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_first_stock PASSED [ 57%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_market_value PASSED [ 57%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_positions PASSED [ 57%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_stocks PASSED [ 57%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_time PASSED [ 57%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_timestamp PASSED [ 57%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khGet_total_asset PASSED [ 58%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khHas_false PASSED [ 58%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khHas_true PASSED [ 58%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khPrice_inf PASSED [ 58%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khPrice_missing_stock PASSED [ 58%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khPrice_nan PASSED [ 58%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khPrice_normal PASSED [ 59%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_khPrice_pandas_series PASSED [ 59%]
tests/test_khQuantImport.py::TestConvenienceFunctions::test_parse_context PASSED [ 59%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderInit::test_trader_init_custom_config FAILED [ 59%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderInit::test_trader_init_default FAILED [ 59%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderInit::test_trader_init_with_alert_manager 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:43 [INFO] 提醒管理器初始化完成
FAILED                                                                   [ 59%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_get_all_quotes_after_update FAILED [ 60%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_get_all_quotes_empty FAILED [ 60%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_get_quote_empty FAILED [ 60%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_on_quote_callback FAILED [ 60%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_on_quote_callback_not_running FAILED [ 60%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderStockManagement::test_add_stock FAILED [ 60%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderStockManagement::test_add_stock_duplicate FAILED [ 60%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderStockManagement::test_remove_stock FAILED [ 61%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderStockManagement::test_remove_stock_not_exists FAILED [ 61%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderLifecycle::test_initial_state FAILED [ 61%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderLifecycle::test_start_without_trader FAILED [ 61%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderLifecycle::test_stop FAILED [ 61%]
tests/test_khRealtimeTrader.py::TestTraderCallback::test_callback_init FAILED [ 61%]
tests/test_khRealtimeTrader.py::TestTraderCallback::test_callback_on_disconnected FAILED [ 62%]
tests/test_khRealtimeTrader.py::TestCreateRealtimeTrader::test_create_realtime_trader FAILED [ 62%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderBuildContext::test_build_context_minimal FAILED [ 62%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderBuildContext::test_build_context_with_price FAILED [ 62%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderPlaceOrder::test_place_order_no_trader FAILED [ 62%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderPlaceOrder::test_place_order_with_trader FAILED [ 62%]
tests/test_khRealtimeTrader.py::TestRealtimeTraderIntegration::test_full_trading_flow FAILED [ 63%]
tests/test_khRisk.py::TestKhRiskManager::test_check_loss_drawdown 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [WARNING] [风控拦截] drawdown_limit_exceeded: 当前回撤 20.00% 超过限制 15.00%
PASSED                                                                   [ 63%]
tests/test_khRisk.py::TestKhRiskManager::test_check_loss_normal 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 63%]
tests/test_khRisk.py::TestKhRiskManager::test_check_loss_stop_loss 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [WARNING] [风控拦截] loss_limit_triggered: 累计亏损 15.00% 达到止损线 10.00%
PASSED                                                                   [ 63%]
tests/test_khRisk.py::TestKhRiskManager::test_check_order_exceeded 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [WARNING] [风控拦截] order_limit_exceeded: 今日委托 100 次，达到限制 100
PASSED                                                                   [ 63%]
tests/test_khRisk.py::TestKhRiskManager::test_check_order_normal 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 63%]
tests/test_khRisk.py::TestKhRiskManager::test_check_position_exceeded 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 持仓比例 99.00% 超过限制 95.00%
PASSED                                                                   [ 64%]
tests/test_khRisk.py::TestKhRiskManager::test_check_position_normal 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 64%]
tests/test_khRisk.py::TestKhRiskManager::test_check_risk_all_passed 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 64%]
tests/test_khRisk.py::TestKhRiskManager::test_check_risk_blocked 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [WARNING] [风控拦截] order_limit_exceeded: 今日委托 100 次，达到限制 100
2026-02-09 23:18:44 [INFO] [风控] 交易被拦截 - ORDER_LIMIT: 今日委托次数已达上限 100
PASSED                                                                   [ 64%]
tests/test_khRisk.py::TestKhRiskManager::test_check_single_order_exceeded 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [WARNING] [风控拦截] single_order_limit: 单笔委托 400000.00 占比 400.00% 超过限制 30.00%
PASSED                                                                   [ 64%]
tests/test_khRisk.py::TestKhRiskManager::test_check_single_order_normal 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 64%]
tests/test_khRisk.py::TestKhRiskManager::test_event_limit 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息0
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息1
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息2
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息3
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息4
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息5
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息6
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息7
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息8
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息9
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息10
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息11
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息12
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息13
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息14
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息15
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息16
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息17
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息18
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息19
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息20
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息21
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息22
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息23
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息24
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息25
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息26
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息27
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息28
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息29
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息30
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息31
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息32
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息33
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息34
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息35
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息36
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息37
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息38
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息39
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息40
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息41
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息42
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息43
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息44
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息45
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息46
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息47
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息48
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息49
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息50
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息51
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息52
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息53
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息54
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息55
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息56
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息57
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息58
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息59
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息60
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息61
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息62
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息63
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息64
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息65
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息66
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息67
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息68
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息69
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息70
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息71
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息72
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息73
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息74
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息75
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息76
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息77
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息78
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息79
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息80
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息81
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息82
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息83
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息84
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息85
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息86
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息87
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息88
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息89
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息90
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息91
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息92
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息93
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息94
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息95
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息96
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息97
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息98
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息99
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息100
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息101
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息102
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息103
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息104
PASSED                                                                   [ 65%]
tests/test_khRisk.py::TestKhRiskManager::test_event_logging 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [WARNING] [风控拦截] position_limit_exceeded: 测试消息
PASSED                                                                   [ 65%]
tests/test_khRisk.py::TestKhRiskManager::test_get_risk_report 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 65%]
tests/test_khRisk.py::TestKhRiskManager::test_get_violations_summary 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 65%]
tests/test_khRisk.py::TestKhRiskManager::test_increment_order_count 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 65%]
tests/test_khRisk.py::TestKhRiskManager::test_init_defaults 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 65%]
tests/test_khRisk.py::TestKhRiskManager::test_init_with_trade_manager 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 66%]
tests/test_khRisk.py::TestKhRiskManager::test_no_trade_manager 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 66%]
tests/test_khRisk.py::TestKhRiskManager::test_reset_daily_counters 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
2026-02-09 23:18:44 [INFO] 风控日计数器已重置
PASSED                                                                   [ 66%]
tests/test_khRisk.py::TestKhRiskManager::test_update_daily_pnl 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:44 [INFO] 风控模块初始化完成 - 持仓限制:95%, 委托限制:100, 止损:10%, 回撤:15%
PASSED                                                                   [ 66%]
tests/test_khRisk.py::TestRiskEventType::test_event_types PASSED         [ 66%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_empty_code PASSED [ 66%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_forbidden_eval PASSED [ 66%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_forbidden_exec PASSED [ 67%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_forbidden_file_write PASSED [ 67%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_forbidden_os_import PASSED [ 67%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_forbidden_subprocess PASSED [ 67%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_forbidden_sys_import PASSED [ 67%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_forbidden_system_command PASSED [ 67%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_forbidden_thread PASSED [ 68%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_indicator_functions PASSED [ 68%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_numpy_usage PASSED [ 68%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_safe_builtins PASSED [ 68%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_security_report PASSED [ 68%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_syntax_error PASSED [ 68%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_valid_strategy PASSED [ 69%]
tests/test_khSecurity.py::TestStrategySecurityValidator::test_whitespace_code PASSED [ 69%]
tests/test_khSecurity.py::TestSafePathResolver::test_add_allowed_path PASSED [ 69%]
tests/test_khSecurity.py::TestSafePathResolver::test_path_traversal_blocked PASSED [ 69%]
tests/test_khSecurity.py::TestSafePathResolver::test_resolve_absolute_path PASSED [ 69%]
tests/test_khSecurity.py::TestSafePathResolver::test_resolve_relative_path PASSED [ 69%]
tests/test_khSecurity.py::TestSafePathResolver::test_sanitize_empty_filename PASSED [ 70%]
tests/test_khSecurity.py::TestSafePathResolver::test_sanitize_filename PASSED [ 70%]
tests/test_khSecurity.py::TestSafePathResolver::test_sanitize_long_filename PASSED [ 70%]
tests/test_khSecurity.py::TestSecureFileDownloader::test_allowed_domains PASSED [ 70%]
tests/test_khSecurity.py::TestSecureFileDownloader::test_https_required PASSED [ 70%]
tests/test_khSecurity.py::TestSecureFileDownloader::test_localhost_allowed PASSED [ 70%]
tests/test_khSecurity.py::TestSecureFileDownloader::test_verify_python_file_dangerous PASSED [ 71%]
tests/test_khSecurity.py::TestSecureFileDownloader::test_verify_python_file_encoding PASSED [ 71%]
tests/test_khSecurity.py::TestSecureFileDownloader::test_verify_python_file_safe PASSED [ 71%]
tests/test_khSecurity.py::TestValidateStrategyFile::test_invalid_extension PASSED [ 71%]
tests/test_khSecurity.py::TestValidateStrategyFile::test_malicious_file PASSED [ 71%]
tests/test_khSecurity.py::TestValidateStrategyFile::test_nonexistent_file PASSED [ 71%]
tests/test_khSecurity.py::TestValidateStrategyFile::test_valid_python_file PASSED [ 72%]
tests/test_khSecurity.py::TestSecurityError::test_security_error PASSED  [ 72%]
tests/test_khTrade.py::TestKhTradeManagerInitialization::test_init 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [INFO] 交易管理初始化完成
2026-02-09 23:18:45 [INFO] 交易成本设置:
2026-02-09 23:18:45 [INFO]   最低佣金: 5.0元
2026-02-09 23:18:45 [INFO]   佣金比例: 0.03%
2026-02-09 23:18:45 [INFO]   印花税率: 0.1%
2026-02-09 23:18:45 [INFO]   流量费: 0.1元/笔
2026-02-09 23:18:45 [INFO]   滑点类型: ratio
2026-02-09 23:18:45 [INFO]   滑点比例: 0.1%
PASSED                                                                   [ 72%]
tests/test_khTrade.py::TestKhTradeManagerInitialization::test_initialization PASSED [ 72%]
tests/test_khTrade.py::TestKhTradeManagerInitialization::test_set_price_decimals PASSED [ 72%]
tests/test_khTrade.py::TestKhTradeManagerInitialization::test_set_t0_mode_disabled 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [INFO] T+1交易模式：当天买入的股票需等下一交易日才能卖出
PASSED                                                                   [ 72%]
tests/test_khTrade.py::TestKhTradeManagerInitialization::test_set_t0_mode_enabled 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [INFO] T+0交易模式已启用：当天买入的股票可当天卖出
PASSED                                                                   [ 73%]
tests/test_khTrade.py::TestSlippageCalculation::test_calculate_slippage_buy_ratio_mode PASSED [ 73%]
tests/test_khTrade.py::TestSlippageCalculation::test_calculate_slippage_buy_tick_mode PASSED [ 73%]
tests/test_khTrade.py::TestSlippageCalculation::test_calculate_slippage_etf_decimals PASSED [ 73%]
tests/test_khTrade.py::TestSlippageCalculation::test_calculate_slippage_sell_ratio_mode PASSED [ 73%]
tests/test_khTrade.py::TestSlippageCalculation::test_calculate_slippage_sell_tick_mode PASSED [ 73%]
tests/test_khTrade.py::TestCommissionCalculation::test_calculate_commission_large_amount PASSED [ 73%]
tests/test_khTrade.py::TestCommissionCalculation::test_calculate_commission_minimum PASSED [ 74%]
tests/test_khTrade.py::TestCommissionCalculation::test_calculate_commission_normal PASSED [ 74%]
tests/test_khTrade.py::TestCommissionCalculation::test_calculate_commission_zero_volume PASSED [ 74%]
tests/test_khTrade.py::TestStampTaxCalculation::test_calculate_stamp_tax_buy PASSED [ 74%]
tests/test_khTrade.py::TestStampTaxCalculation::test_calculate_stamp_tax_sell PASSED [ 74%]
tests/test_khTrade.py::TestStampTaxCalculation::test_calculate_stamp_tax_zero_volume PASSED [ 74%]
tests/test_khTrade.py::TestTransferFeeCalculation::test_calculate_transfer_fee_shanghai PASSED [ 75%]
tests/test_khTrade.py::TestTransferFeeCalculation::test_calculate_transfer_fee_shenzhen PASSED [ 75%]
tests/test_khTrade.py::TestTransferFeeCalculation::test_calculate_transfer_fee_zero_volume PASSED [ 75%]
tests/test_khTrade.py::TestFlowFeeCalculation::test_calculate_flow_fee PASSED [ 75%]
tests/test_khTrade.py::TestTotalTradeCost::test_calculate_trade_cost_buy PASSED [ 75%]
tests/test_khTrade.py::TestTotalTradeCost::test_calculate_trade_cost_sell PASSED [ 75%]
tests/test_khTrade.py::TestTotalTradeCost::test_calculate_trade_cost_zero_volume PASSED [ 76%]
tests/test_khTrade.py::TestOrderProcessing::test_insufficient_funds 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [ERROR] [ERROR] 资金不足 - 所需资金: 1550500.00 (含成本:500000.00) | 可用资金: 50000.00
PASSED                                                                   [ 76%]
tests/test_khTrade.py::TestOrderProcessing::test_insufficient_position 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [ERROR] [ERROR] 可用持仓不足 - 需要: 500股, 可用: 100股
PASSED                                                                   [ 76%]
tests/test_khTrade.py::TestOrderProcessing::test_process_signals_buy 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [INFO] 回测下单完成: {'code': '000001.SZ', 'action': 'buy', 'price': 10.5, 'volume': 1000, 'reason': 'RSI超卖', 'trade_cost': 5.1, 'actual_price': 10.505}
2026-02-09 23:18:45 [INFO] 交易成本: 5.10
2026-02-09 23:18:45 [INFO] 当前资产 (现金): 39489.90
2026-02-09 23:18:45 [INFO] 当前持仓: {'000001.SZ': {'account_type': 2, 'account_id': <Mock name='mock.account_id' id='1877244528720'>, 'stock_code': '000001.SZ', 'volume': 1000, 'can_use_volume': 0, 'open_price': 10.51, 'market_value': 10505.0, 'frozen_volume': 0, 'on_road_volume': 0, 'yesterday_volume': 0, 'avg_price': 10.51, 'current_price': 10.51, 'direction': 48}}
PASSED                                                                   [ 76%]
tests/test_khTrade.py::TestOrderProcessing::test_process_signals_empty PASSED [ 76%]
tests/test_khTrade.py::TestOrderProcessing::test_process_signals_sell 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [INFO] 回测下单完成: {'code': 'sz.000001', 'action': 'sell', 'price': 10.5, 'volume': 500, 'reason': '止盈', 'trade_cost': 15.6, 'actual_price': 10.495}
2026-02-09 23:18:45 [INFO] 交易成本: 15.60
2026-02-09 23:18:45 [INFO] 当前资产 (现金): 55231.90
2026-02-09 23:18:45 [INFO] 当前持仓: {'sz.000001': {'volume': 500, 'avg_price': 10.5, 'can_use_volume': 500, 'current_price': 10.49}}
PASSED                                                                   [ 76%]
tests/test_khTrade.py::TestT0Mode::test_t0_buy_sell_same_day 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [INFO] T+0交易模式已启用：当天买入的股票可当天卖出
2026-02-09 23:18:45 [INFO] 回测下单完成: {'code': 'sh.510300', 'action': 'buy', 'price': 3.85, 'volume': 1000, 'trade_cost': 5.0, 'actual_price': 10.5}
2026-02-09 23:18:45 [INFO] 交易成本: 5.00
2026-02-09 23:18:45 [INFO] 当前资产 (现金): 39495.00
2026-02-09 23:18:45 [INFO] 当前持仓: {'sh.510300': {'account_type': 2, 'account_id': <Mock name='mock.account_id' id='1877246000272'>, 'stock_code': 'sh.510300', 'volume': 1000, 'can_use_volume': 1000, 'open_price': 10.5, 'market_value': 10500.0, 'frozen_volume': 0, 'on_road_volume': 0, 'yesterday_volume': 0, 'avg_price': 10.5, 'current_price': 10.5, 'direction': 48}}
2026-02-09 23:18:45 [INFO] 回测下单完成: {'code': 'sh.510300', 'action': 'sell', 'price': 3.86, 'volume': 1000, 'trade_cost': 5.0, 'actual_price': 10.5}
2026-02-09 23:18:45 [INFO] 交易成本: 5.00
2026-02-09 23:18:45 [INFO] 当前资产 (现金): 49990.00
2026-02-09 23:18:45 [INFO] 当前持仓: {}
PASSED                                                                   [ 77%]
tests/test_khTrade.py::TestT0Mode::test_t1_buy_next_day_sell 
-------------------------------- live log call --------------------------------
2026-02-09 23:18:45 [INFO] T+0交易模式已启用：当天买入的股票可当天卖出
2026-02-09 23:18:45 [INFO] T+1交易模式：当天买入的股票需等下一交易日才能卖出
2026-02-09 23:18:45 [INFO] 回测下单完成: {'code': 'sz.000001', 'action': 'buy', 'price': 10.5, 'volume': 1000, 'trade_cost': 5.0, 'actual_price': 10.5}
2026-02-09 23:18:45 [INFO] 交易成本: 5.00
2026-02-09 23:18:45 [INFO] 当前资产 (现金): 39495.00
2026-02-09 23:18:45 [INFO] 当前持仓: {'sz.000001': {'account_type': 2, 'account_id': <Mock name='mock.account_id' id='1877245987792'>, 'stock_code': 'sz.000001', 'volume': 1000, 'can_use_volume': 0, 'open_price': 10.5, 'market_value': 10500.0, 'frozen_volume': 0, 'on_road_volume': 0, 'yesterday_volume': 0, 'avg_price': 10.5, 'current_price': 10.5, 'direction': 48}}
2026-02-09 23:18:45 [ERROR] [ERROR] 可用持仓不足 - 需要: 1000股, 可用: 0股
PASSED                                                                   [ 77%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_buffer_size_empty ERROR [ 77%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_buffer_size_with_entries ERROR [ 77%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_load_level_low ERROR [ 77%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_load_level_medium ERROR [ 77%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_load_level_high ERROR [ 78%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_low_to_medium ERROR [ 78%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_medium_to_high ERROR [ 78%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_high_to_low ERROR [ 78%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_anti_jitter ERROR [ 78%]
tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_stable_load ERROR [ 78%]
tests/test_log_flush_dynamic.py::TestLogFlushIntegration::test_initial_flush_interval ERROR [ 79%]
tests/test_log_flush_dynamic.py::TestLogFlushIntegration::test_flush_parameters_initialized ERROR [ 79%]
tests/test_log_flush_dynamic.py::TestLogFlushIntegration::test_on_flush_timer_calls_flush ERROR [ 79%]
tests/test_log_flush_unit.py::TestLogFlushDynamicUnit::test_get_log_buffer_size_empty PASSED [ 79%]
tests/test_log_flush_unit.py::TestLogFlushDynamicUnit::test_get_log_buffer_size_with_entries PASSED [ 79%]
tests/test_log_flush_unit.py::TestLogFlushDynamicUnit::test_get_log_load_level PASSED [ 79%]
tests/test_log_flush_unit.py::TestLogFlushDynamicUnit::test_adjust_flush_interval_logic PASSED [ 80%]
tests/test_log_flush_unit.py::TestLogFlushDynamicUnit::test_anti_jitter_mechanism PASSED [ 80%]
tests/test_logging_config.py::TestSetupLogging::test_log_output PASSED   [ 80%]
tests/test_logging_config.py::TestSetupLogging::test_setup_default_level PASSED [ 80%]
tests/test_logging_config.py::TestSetupLogging::test_setup_with_console PASSED [ 80%]
tests/test_logging_config.py::TestSetupLogging::test_setup_with_file PASSED [ 80%]
tests/test_logging_config.py::TestGetModuleLogger::test_get_module_logger PASSED [ 80%]
tests/test_logging_config.py::TestGetModuleLogger::test_logger_level PASSED [ 81%]
tests/test_logging_config.py::TestLoggerMixin::test_logger_mixin PASSED  [ 81%]
tests/test_logging_config.py::TestLoggerMixin::test_logger_singleton PASSED [ 81%]
tests/test_logging_config.py::TestPerformanceLogger::test_performance_logger PASSED [ 81%]
tests/test_logging_config.py::TestPerformanceLogger::test_performance_logging_output PASSED [ 81%]
tests/test_logging_config.py::TestPerformanceLogger::test_performance_with_exception PASSED [ 81%]
tests/test_logging_config.py::TestLogFilename::test_get_log_filename PASSED [ 82%]
tests/test_logging_config.py::TestLogFilename::test_get_log_filename_custom PASSED [ 82%]
tests/test_logging_config.py::TestQuickSetup::test_quick_setup PASSED    [ 82%]
tests/test_logging_config.py::TestDisableLogger::test_disable_logger PASSED [ 82%]
tests/test_logging_config.py::TestConstants::test_log_level_values PASSED [ 82%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_detect_file_format_1d PASSED [ 82%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_detect_file_format_1m PASSED [ 83%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_detect_file_format_5m PASSED [ 83%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_estimate_record_count_by_filesize PASSED [ 83%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_extract_stock_code_from_kline_path_invalid PASSED [ 83%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_extract_stock_code_from_kline_path_valid PASSED [ 83%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_extract_stock_info_from_tick_path_invalid PASSED [ 83%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_extract_stock_info_from_tick_path_valid PASSED [ 84%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_generate_tick_record PASSED [ 84%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_data_files_invalid_directory PASSED [ 84%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_data_files_valid_directory PASSED [ 84%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_full_stock_code_bj PASSED [ 84%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_full_stock_code_default PASSED [ 84%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_full_stock_code_sh PASSED [ 85%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_full_stock_code_sz PASSED [ 85%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_real_record_count_with_api PASSED [ 85%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_sample_kline_data_1d PASSED [ 85%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_sample_kline_data_1m PASSED [ 85%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_sample_kline_data_5m PASSED [ 85%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_get_sample_tick_data PASSED [ 86%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_initialization PASSED [ 86%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_kline_data_empty_data PASSED [ 86%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_kline_data_format1_success PASSED [ 86%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_kline_data_format2_success PASSED [ 86%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_kline_data_no_xtdata PASSED [ 86%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_kline_data_with_max_records PASSED [ 86%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_tick_data_empty_dataframe PASSED [ 87%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_tick_data_no_data PASSED [ 87%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_tick_data_no_xtdata PASSED [ 87%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_tick_data_success PASSED [ 87%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_tick_data_with_max_records PASSED [ 87%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_process_tick_array_simple PASSED [ 87%]
tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_process_tick_array_structured PASSED [ 88%]
tests/test_miniQMT_data_parser.py::TestDataValidation::test_kline_data_field_validation PASSED [ 88%]
tests/test_miniQMT_data_parser.py::TestDataValidation::test_tick_data_field_validation PASSED [ 88%]
tests/test_miniQMT_data_parser.py::TestEdgeCases::test_detect_file_format_nonexistent_file PASSED [ 88%]
tests/test_miniQMT_data_parser.py::TestEdgeCases::test_estimate_record_count_zero_size_file PASSED [ 88%]
tests/test_miniQMT_data_parser.py::TestEdgeCases::test_parse_data_with_exception PASSED [ 88%]
tests/test_miniQMT_data_parser.py::TestEdgeCases::test_parse_data_with_missing_fields PASSED [ 89%]
tests/test_miniQMT_data_parser.py::TestEdgeCases::test_parse_kline_data_with_ohlc_violation PASSED [ 89%]
tests/test_miniQMT_data_parser.py::TestEdgeCases::test_parse_tick_data_with_zero_price PASSED [ 89%]
tests/test_trade_calendar_cache.py::test_cache_correctness PASSED        [ 89%]
tests/test_trade_calendar_cache.py::test_cache_hit_rate PASSED           [ 89%]
tests/test_trade_calendar_cache.py::test_cache_performance PASSED        [ 89%]
tests/test_trade_calendar_cache.py::test_cache_management PASSED         [ 90%]
tests/test_trade_calendar_cache.py::test_get_trade_days_count_cache PASSED [ 90%]
tests/test_trade_calendar_cache.py::test_response_time PASSED            [ 90%]
tests/test_update_manager.py::TestUpdateCheckThread::test_check_updates_channel_mismatch PASSED [ 90%]
tests/test_update_manager.py::TestUpdateCheckThread::test_check_updates_connection_error PASSED [ 90%]
tests/test_update_manager.py::TestUpdateCheckThread::test_check_updates_invalid_json PASSED [ 90%]
tests/test_update_manager.py::TestUpdateCheckThread::test_check_updates_missing_required_fields PASSED [ 91%]
tests/test_update_manager.py::TestUpdateCheckThread::test_check_updates_success_new_version PASSED [ 91%]
tests/test_update_manager.py::TestUpdateCheckThread::test_check_updates_success_same_version PASSED [ 91%]
tests/test_update_manager.py::TestUpdateCheckThread::test_check_updates_timeout PASSED [ 91%]
tests/test_update_manager.py::TestUpdateCheckThread::test_compare_versions_different_lengths PASSED [ 91%]
tests/test_update_manager.py::TestUpdateCheckThread::test_compare_versions_invalid PASSED [ 91%]
tests/test_update_manager.py::TestUpdateCheckThread::test_compare_versions_prerelease PASSED [ 92%]
tests/test_update_manager.py::TestUpdateCheckThread::test_compare_versions_standard PASSED [ 92%]
tests/test_update_manager.py::TestUpdateCheckThread::test_compare_versions_with_v_prefix PASSED [ 92%]
tests/test_update_manager.py::TestUpdateCheckThread::test_stop_thread PASSED [ 92%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_checksum_cleanup_on_mismatch PASSED [ 92%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_http_error PASSED [ 92%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_network_error PASSED [ 93%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_no_valid_url PASSED [ 93%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_progress_reporting PASSED [ 93%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_success PASSED [ 93%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_temp_file_cleanup_on_error PASSED [ 93%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_with_download_url PASSED [ 93%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_with_invalid_checksum PASSED [ 93%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_with_valid_checksum PASSED [ 94%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_without_checksum PASSED [ 94%]
tests/test_update_manager.py::TestUpdateDownloadThread::test_download_without_content_length PASSED [ 94%]
tests/test_update_manager.py::TestUpdateProgressDialog::test_dialog_creation PASSED [ 94%]
tests/test_update_manager.py::TestUpdateProgressDialog::test_update_detail PASSED [ 94%]
tests/test_update_manager.py::TestUpdateProgressDialog::test_update_progress PASSED [ 94%]
tests/test_update_manager.py::TestUpdateProgressDialog::test_update_status PASSED [ 95%]
tests/test_update_manager.py::TestUpdateManager::test_check_for_updates_error PASSED [ 95%]
tests/test_update_manager.py::TestUpdateManager::test_check_for_updates_latest PASSED [ 95%]
tests/test_update_manager.py::TestUpdateManager::test_check_for_updates_success PASSED [ 95%]
tests/test_update_manager.py::TestUpdateManager::test_cleanup PASSED     [ 95%]
tests/test_update_manager.py::TestUpdateManager::test_compare_versions_static PASSED [ 95%]
tests/test_update_manager.py::TestUpdateManager::test_initialization PASSED [ 96%]
tests/test_update_manager.py::TestUpdateManager::test_initialization_without_version_module PASSED [ 96%]
tests/test_update_manager.py::TestUpdateManager::test_show_current_version PASSED [ 96%]
tests/test_version.py::TestVersionModule::test_get_channel PASSED        [ 96%]
tests/test_version.py::TestVersionModule::test_get_version PASSED        [ 96%]
tests/test_version.py::TestVersionModule::test_get_version_format PASSED [ 96%]
tests/test_version.py::TestVersionModule::test_get_version_info PASSED   [ 97%]
tests/test_version.py::TestVersionModule::test_get_version_info_is_copy PASSED [ 97%]
tests/test_version.py::TestVersionModule::test_version_info_structure PASSED [ 97%]
tests/test_version.py::TestVersionComparison::test_version_different_lengths Exceptions caught in Qt event loop:
________________________________________________________________________________
Traceback (most recent call last):
  File "G:\berton\oskhquant\update_manager.py", line 534, in _show_update_dialog
    msg = QMessageBox(self.parent)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: arguments did not match any overloaded call:
  QMessageBox(parent: Optional[QWidget] = None): argument 1 has unexpected type 'QObject'
  QMessageBox(icon: QMessageBox.Icon, title: Optional[str], text: Optional[str], buttons: Union[QMessageBox.StandardButtons, QMessageBox.StandardButton] = QMessageBox.NoButton, parent: Optional[QWidget] = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.Dialog|Qt.MSWindowsFixedSizeDialogHint): argument 1 has unexpected type 'QObject'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "G:\berton\oskhquant\update_manager.py", line 486, in <lambda>
    QTimer.singleShot(100, lambda: self._show_update_dialog(version_info))
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\berton\oskhquant\update_manager.py", line 557, in _show_update_dialog
    QMessageBox.critical(self.parent, "错误", f"显示更新对话框时出错: {str(e)}")
TypeError: critical(parent: Optional[QWidget], title: Optional[str], text: Optional[str], buttons: Union[QMessageBox.StandardButtons, QMessageBox.StandardButton] = QMessageBox.Ok, defaultButton: QMessageBox.StandardButton = QMessageBox.NoButton): argument 1 has unexpected type 'QObject'
________________________________________________________________________________
ERROR [ 97%]
tests/test_version.py::TestVersionComparison::test_version_edge_cases PASSED [ 97%]
tests/test_version.py::TestVersionComparison::test_version_invalid_input PASSED [ 97%]
tests/test_version.py::TestVersionComparison::test_version_prerelease_comparison PASSED [ 98%]
tests/test_version.py::TestVersionComparison::test_version_standard_comparison PASSED [ 98%]
tests/test_version.py::TestVersionComparison::test_version_with_v_prefix PASSED [ 98%]
tests/test_version.py::TestVersionFormatValidation::test_invalid_version_formats PASSED [ 98%]
tests/test_version.py::TestVersionFormatValidation::test_valid_version_formats PASSED [ 98%]
tests/test_version.py::TestVersionIntegration::test_app_name_not_empty PASSED [ 98%]
tests/test_version.py::TestVersionIntegration::test_build_date_format PASSED [ 99%]
tests/test_version.py::TestVersionIntegration::test_channel_consistency PASSED [ 99%]
tests/test_version.py::TestVersionIntegration::test_version_consistency PASSED [ 99%]
tests/test_version.py::TestVersionIntegration::test_version_info_complete PASSED [ 99%]
tests/test_version.py::TestVersionInUpdateContext::test_update_manager_with_version PASSED [ 99%]
tests/test_version.py::TestVersionInUpdateContext::test_version_check_with_current_version PASSED [ 99%]
tests/test_version.py::TestVersionInUpdateContext::test_version_comparison_in_check_thread PASSED [100%]D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\coverage\inorout.py:562: CoverageWarning: Module khQuantImport,MyTT,khQTTools,khTrade,khConfig,khFrame,miniQMT_data_parser,constants was never imported. (module-not-imported); see https://coverage.readthedocs.io/en/7.13.3/messages.html#warning-module-not-imported
  self.warn(f"Module {pkg} was never imported.", slug="module-not-imported")
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\coverage\control.py:958: CoverageWarning: No data was collected. (no-data-collected); see https://coverage.readthedocs.io/en/7.13.3/messages.html#warning-no-data-collected
  self._warn("No data was collected.", slug="no-data-collected")
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pytest_cov\plugin.py:363: CovReportWarning: Failed to generate report: No data to report.

  warnings.warn(CovReportWarning(message), stacklevel=1)

WARNING: Failed to generate report: No data to report.



=================================== ERRORS ====================================
____ ERROR at setup of TestLogFlushDynamic.test_get_log_buffer_size_empty _____
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_ ERROR at setup of TestLogFlushDynamic.test_get_log_buffer_size_with_entries _
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
______ ERROR at setup of TestLogFlushDynamic.test_get_log_load_level_low ______
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
____ ERROR at setup of TestLogFlushDynamic.test_get_log_load_level_medium _____
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_____ ERROR at setup of TestLogFlushDynamic.test_get_log_load_level_high ______
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_ ERROR at setup of TestLogFlushDynamic.test_adjust_flush_interval_low_to_medium _
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_ ERROR at setup of TestLogFlushDynamic.test_adjust_flush_interval_medium_to_high _
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_ ERROR at setup of TestLogFlushDynamic.test_adjust_flush_interval_high_to_low _
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_ ERROR at setup of TestLogFlushDynamic.test_adjust_flush_interval_anti_jitter _
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_ ERROR at setup of TestLogFlushDynamic.test_adjust_flush_interval_stable_load _
tests\test_log_flush_dynamic.py:53: in mock_gui
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
____ ERROR at setup of TestLogFlushIntegration.test_initial_flush_interval ____
tests\test_log_flush_dynamic.py:173: in gui_with_timer
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_ ERROR at setup of TestLogFlushIntegration.test_flush_parameters_initialized _
tests\test_log_flush_dynamic.py:173: in gui_with_timer
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
__ ERROR at setup of TestLogFlushIntegration.test_on_flush_timer_calls_flush __
tests\test_log_flush_dynamic.py:173: in gui_with_timer
    from GUIkhQuant import KhQuantGUI
E     File "G:\berton\oskhquant\GUIkhQuant.py", line 12
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
___ ERROR at setup of TestVersionComparison.test_version_different_lengths ____
SETUP ERROR: Exceptions caught in Qt event loop:
________________________________________________________________________________
Traceback (most recent call last):
  File "G:\berton\oskhquant\update_manager.py", line 534, in _show_update_dialog
    msg = QMessageBox(self.parent)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: arguments did not match any overloaded call:
  QMessageBox(parent: Optional[QWidget] = None): argument 1 has unexpected type 'QObject'
  QMessageBox(icon: QMessageBox.Icon, title: Optional[str], text: Optional[str], buttons: Union[QMessageBox.StandardButtons, QMessageBox.StandardButton] = QMessageBox.NoButton, parent: Optional[QWidget] = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.Dialog|Qt.MSWindowsFixedSizeDialogHint): argument 1 has unexpected type 'QObject'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "G:\berton\oskhquant\update_manager.py", line 486, in <lambda>
    QTimer.singleShot(100, lambda: self._show_update_dialog(version_info))
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\berton\oskhquant\update_manager.py", line 557, in _show_update_dialog
    QMessageBox.critical(self.parent, "错误", f"显示更新对话框时出错: {str(e)}")
TypeError: critical(parent: Optional[QWidget], title: Optional[str], text: Optional[str], buttons: Union[QMessageBox.StandardButtons, QMessageBox.StandardButton] = QMessageBox.Ok, defaultButton: QMessageBox.StandardButton = QMessageBox.NoButton): argument 1 has unexpected type 'QObject'
________________________________________________________________________________

================================== FAILURES ===================================
_______ TestGUISchedulerInitialization.test_custom_files_initialization _______
tests\test_GUIScheduler.py:50: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
______________ TestGUISchedulerInitialization.test_initial_state ______________
tests\test_GUIScheduler.py:50: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
___________ TestGUISchedulerInitialization.test_scheduler_creation ____________
tests\test_GUIScheduler.py:50: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
____________ TestGUISchedulerInitialization.test_stock_names_cache ____________
tests\test_GUIScheduler.py:50: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
__________ TestGUISchedulerInitialization.test_timer_initialization ___________
tests\test_GUIScheduler.py:50: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
__________ TestGUISchedulerInitialization.test_tools_initialization ___________
tests\test_GUIScheduler.py:50: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
______________ TestGUISchedulerInitialization.test_window_title _______________
tests\test_GUIScheduler.py:50: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_______ TestScreenResolutionDetection.test_1080p_resolution_font_scale ________
tests\test_GUIScheduler.py:122: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_________ TestScreenResolutionDetection.test_2k_resolution_font_scale _________
tests\test_GUIScheduler.py:122: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_________ TestScreenResolutionDetection.test_4k_resolution_font_scale _________
tests\test_GUIScheduler.py:122: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
________ TestScreenResolutionDetection.test_low_resolution_font_scale _________
tests\test_GUIScheduler.py:122: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
______________ TestStockPoolSelection.test_on_stock_pool_changed ______________
tests\test_GUIScheduler.py:206: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
____________ TestStockPoolSelection.test_stock_pool_checkbox_types ____________
tests\test_GUIScheduler.py:206: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
___________ TestStockPoolSelection.test_stock_pool_checkboxes_exist ___________
tests\test_GUIScheduler.py:206: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
______________ TestPeriodSelection.test_default_period_selection ______________
tests\test_GUIScheduler.py:262: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_______________ TestPeriodSelection.test_period_checkbox_types ________________
tests\test_GUIScheduler.py:262: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
______________ TestPeriodSelection.test_period_checkboxes_exist _______________
tests\test_GUIScheduler.py:262: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
___________ TestScheduleConfiguration.test_default_supplement_time ____________
tests\test_GUIScheduler.py:311: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
________________ TestScheduleToggle.test_start_with_validation ________________
tests\test_GUIScheduler.py:349: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
______________ TestScheduleToggle.test_start_without_validation _______________
tests\test_GUIScheduler.py:349: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_______ TestScheduleExecution.test_check_and_execute_on_non_trading_day _______
tests\test_GUIScheduler.py:426: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_________ TestScheduleExecution.test_check_and_execute_on_trading_day _________
tests\test_GUIScheduler.py:426: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_____ TestImmediateExecution.test_immediate_execution_on_non_trading_day ______
tests\test_GUIScheduler.py:511: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_______ TestImmediateExecution.test_immediate_execution_on_trading_day ________
tests\test_GUIScheduler.py:511: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
___________________ TestValidation.test_validate_no_period ____________________
tests\test_GUIScheduler.py:584: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_________________ TestValidation.test_validate_no_stock_pool __________________
tests\test_GUIScheduler.py:584: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
____________________ TestValidation.test_validate_success _____________________
tests\test_GUIScheduler.py:584: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
__________________________ TestLogging.test_add_log ___________________________
tests\test_GUIScheduler.py:644: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_________________________ TestLogging.test_clear_log __________________________
tests\test_GUIScheduler.py:644: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_________________ TestCustomStockFile.test_clear_stock_pools __________________
tests\test_GUIScheduler.py:692: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
________________ TestCustomStockFile.test_get_custom_pool_path ________________
tests\test_GUIScheduler.py:692: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_____________ TestWindowClose.test_close_with_running_task_cancel _____________
tests\test_GUIScheduler.py:746: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
____________ TestWindowClose.test_close_with_running_task_confirm _____________
tests\test_GUIScheduler.py:746: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_______________ TestWindowClose.test_close_without_running_task _______________
tests\test_GUIScheduler.py:746: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_____________ TestScheduledSupplementThread.test_thread_creation ______________
tests\test_GUIScheduler.py:840: in setUp
    from GUIScheduler import ScheduledSupplementThread
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
___________ TestScheduledSupplementThread.test_thread_initial_state ___________
tests\test_GUIScheduler.py:840: in setUp
    from GUIScheduler import ScheduledSupplementThread
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_______________ TestScheduledSupplementThread.test_thread_stop ________________
tests\test_GUIScheduler.py:840: in setUp
    from GUIScheduler import ScheduledSupplementThread
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
____________ TestSupplementDataWorker.test_worker_function_exists _____________
tests\test_GUIScheduler.py:876: in test_worker_function_exists
    from GUIScheduler import supplement_data_worker
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
__________ TestStylesheetApplication.test_complete_scaled_stylesheet __________
tests\test_GUIScheduler.py:894: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_________ TestStylesheetApplication.test_scaled_stylesheet_generation _________
tests\test_GUIScheduler.py:894: in setUp
    self.mock_tools_class = self.tools_patcher.start()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1594: in start
    result = self.__enter__()
             ^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\pkgutil.py:700: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:936: in exec_module
    ???
<frozen importlib._bootstrap_external>:1074: in get_code
    ???
<frozen importlib._bootstrap_external>:1004: in source_to_code
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
E     File "G:\berton\oskhquant\GUIScheduler.py", line 9
E       from logging_config import get_module_logger
E       ^^^^
E   SyntaxError: invalid syntax
_____________ TestAccountSettings.test_custom_account_id_loading ______________
tests\test_SettingsDialog.py:354: in test_custom_account_id_loading
    self.assertEqual(self.dialog.account_id_input.text(), '1234567890')
E   AssertionError: '8888888888' != '1234567890'
E   - 8888888888
E   + 1234567890
---------------------------- Captured Qt messages -----------------------------
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\MaxLogLinesTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\InitDataTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\SettingsDialogTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\SettingsDialogTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\RiskFreeRateTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\MaxLogLinesTest" (试图在标记为删除的注册表项上进行不合法的操作。)
________________ TestPathSettings.test_custom_qmt_path_loading ________________
tests\test_SettingsDialog.py:446: in test_custom_qmt_path_loading
    self.assertEqual(self.dialog.qmt_path_edit.text(), test_path)
E   AssertionError: 'D:\\国金证券QMT交易端\\userdata_mini' != 'E:\\custom\\qmt\\path'
E   - D:\国金证券QMT交易端\userdata_mini
E   + E:\custom\qmt\path
---------------------------- Captured Qt messages -----------------------------
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\AccountTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\AccountTest" (试图在标记为删除的注册表项上进行不合法的操作。)
________________ TestSaveSettings.test_save_init_data_setting _________________
tests\test_SettingsDialog.py:509: in test_save_init_data_setting
    self.assertTrue(self.temp_settings.value('init_data_enabled', type=bool))
E   AssertionError: False is not true
---------------------------- Captured Qt messages -----------------------------
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\SaveSettingsTest" (试图在标记为删除的注册表项上进行不合法的操作。)
__________________ TestMyTraderCallback.test_on_disconnected __________________
tests\test_khFrame.py:360: in test_on_disconnected
    self.callback.on_disconnected()
khFrame.py:432: in on_disconnected
    logger.info(datetime.datetime.now(),'连接断开回调')
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:1489: in info
    self._log(INFO, msg, args, **kwargs)
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:1634: in _log
    self.handle(record)
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:1644: in handle
    self.callHandlers(record)
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:1706: in callHandlers
    hdlr.handle(record)
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:978: in handle
    self.emit(record)
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\logging.py:384: in emit
    super().emit(record)
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:1118: in emit
    self.handleError(record)
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:1110: in emit
    msg = self.format(record)
          ^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:953: in format
    return fmt.format(record)
           ^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\logging.py:137: in format
    return super().format(record)
           ^^^^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:687: in format
    record.message = record.getMessage()
                     ^^^^^^^^^^^^^^^^^^^
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py:377: in getMessage
    msg = msg % self.args
          ^^^^^^^^^^^^^^^
E   TypeError: not all arguments converted during string formatting
---------------------------- Captured Qt messages -----------------------------
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\StyleTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\ComponentsTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\AccountTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\PathTest" (试图在标记为删除的注册表项上进行不合法的操作。)
QtCriticalMsg: QSettings: Failed to delete key "Software\KHQuantTest\SaveSettingsTest" (试图在标记为删除的注册表项上进行不合法的操作。)
---------------------------- Captured stderr call -----------------------------
--- Logging error ---
Traceback (most recent call last):
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\handlers.py", line 73, in emit
    if self.shouldRollover(record):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\handlers.py", line 196, in shouldRollover
    msg = "%s\n" % self.format(record)
                   ^^^^^^^^^^^^^^^^^^^
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py", line 953, in format
    return fmt.format(record)
           ^^^^^^^^^^^^^^^^^^
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py", line 687, in format
    record.message = record.getMessage()
                     ^^^^^^^^^^^^^^^^^^^
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py", line 377, in getMessage
    msg = msg % self.args
          ~~~~^~~~~~~~~~~
TypeError: not all arguments converted during string formatting
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\unittest.py", line 389, in runtest
    testcase(result=self)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\case.py", line 678, in __call__
    return self.run(*args, **kwds)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\case.py", line 623, in run
    self._callTestMethod(testMethod)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\case.py", line 579, in _callTestMethod
    if method() is not None:
  File "G:\berton\oskhquant\tests\test_khFrame.py", line 360, in test_on_disconnected
    self.callback.on_disconnected()
  File "G:\berton\oskhquant\khFrame.py", line 432, in on_disconnected
    logger.info(datetime.datetime.now(),'连接断开回调')
Message: datetime.datetime(2026, 2, 9, 23, 18, 40, 971132)
Arguments: ('连接断开回调',)
--- Logging error ---
Traceback (most recent call last):
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py", line 1110, in emit
    msg = self.format(record)
          ^^^^^^^^^^^^^^^^^^^
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py", line 953, in format
    return fmt.format(record)
           ^^^^^^^^^^^^^^^^^^
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py", line 687, in format
    record.message = record.getMessage()
                     ^^^^^^^^^^^^^^^^^^^
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\logging\__init__.py", line 377, in getMessage
    msg = msg % self.args
          ~~~~^~~~~~~~~~~
TypeError: not all arguments converted during string formatting
Call stack:
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Scripts\pytest.exe\__main__.py", line 6, in <module>
    sys.exit(console_main())
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\config\__init__.py", line 223, in console_main
    code = main()
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\config\__init__.py", line 199, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\main.py", line 365, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\main.py", line 318, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\main.py", line 372, in _main
    config.hook.pytest_runtestloop(session=session)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\main.py", line 396, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 118, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 137, in runtestprotocol
    reports.append(call_and_report(item, "call", log))
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 244, in call_and_report
    call = CallInfo.from_call(
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 353, in from_call
    result: TResult | None = func()
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 245, in <lambda>
    lambda: runtest_hook(item=item, **kwds),
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\runner.py", line 179, in pytest_runtest_call
    item.runtest()
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\unittest.py", line 389, in runtest
    testcase(result=self)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\case.py", line 678, in __call__
    return self.run(*args, **kwds)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\case.py", line 623, in run
    self._callTestMethod(testMethod)
  File "D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\unittest\case.py", line 579, in _callTestMethod
    if method() is not None:
  File "G:\berton\oskhquant\tests\test_khFrame.py", line 360, in test_on_disconnected
    self.callback.on_disconnected()
  File "G:\berton\oskhquant\khFrame.py", line 432, in on_disconnected
    logger.info(datetime.datetime.now(),'连接断开回调')
Message: datetime.datetime(2026, 2, 9, 23, 18, 40, 971132)
Arguments: ('连接断开回调',)
____________ TestRealtimeTraderInit.test_trader_init_custom_config ____________
tests\test_khRealtimeTrader.py:54: in test_trader_init_custom_config
    trader = RealtimeTrader(config, "")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_______________ TestRealtimeTraderInit.test_trader_init_default _______________
tests\test_khRealtimeTrader.py:38: in test_trader_init_default
    trader = RealtimeTrader(config, "")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_________ TestRealtimeTraderInit.test_trader_init_with_alert_manager __________
tests\test_khRealtimeTrader.py:67: in test_trader_init_with_alert_manager
    trader = RealtimeTrader(config, "", alert_manager=alert_mgr)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
------------------------------ Captured log call ------------------------------
INFO     khAlertManager:khAlertManager.py:315 提醒管理器初始化完成
__________ TestRealtimeTraderQuotes.test_get_all_quotes_after_update __________
tests\test_khRealtimeTrader.py:78: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_____________ TestRealtimeTraderQuotes.test_get_all_quotes_empty ______________
tests\test_khRealtimeTrader.py:78: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
________________ TestRealtimeTraderQuotes.test_get_quote_empty ________________
tests\test_khRealtimeTrader.py:78: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_______________ TestRealtimeTraderQuotes.test_on_quote_callback _______________
tests\test_khRealtimeTrader.py:78: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_________ TestRealtimeTraderQuotes.test_on_quote_callback_not_running _________
tests\test_khRealtimeTrader.py:78: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
______________ TestRealtimeTraderStockManagement.test_add_stock _______________
tests\test_khRealtimeTrader.py:144: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_________ TestRealtimeTraderStockManagement.test_add_stock_duplicate __________
tests\test_khRealtimeTrader.py:144: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_____________ TestRealtimeTraderStockManagement.test_remove_stock _____________
tests\test_khRealtimeTrader.py:144: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_______ TestRealtimeTraderStockManagement.test_remove_stock_not_exists ________
tests\test_khRealtimeTrader.py:144: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
_______________ TestRealtimeTraderLifecycle.test_initial_state ________________
tests\test_khRealtimeTrader.py:176: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
____________ TestRealtimeTraderLifecycle.test_start_without_trader ____________
tests\test_khRealtimeTrader.py:176: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
____________________ TestRealtimeTraderLifecycle.test_stop ____________________
tests\test_khRealtimeTrader.py:176: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
____________________ TestTraderCallback.test_callback_init ____________________
tests\test_khRealtimeTrader.py:213: in test_callback_init
    trader = RealtimeTrader(config, "")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
______________ TestTraderCallback.test_callback_on_disconnected _______________
tests\test_khRealtimeTrader.py:224: in test_callback_on_disconnected
    trader = RealtimeTrader(config, "")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
____________ TestCreateRealtimeTrader.test_create_realtime_trader _____________
tests\test_khRealtimeTrader.py:242: in test_create_realtime_trader
    trader = create_realtime_trader(config, "")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:512: in create_realtime_trader
    return RealtimeTrader(config, strategy_file, alert_manager, user_callback)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
__________ TestRealtimeTraderBuildContext.test_build_context_minimal __________
tests\test_khRealtimeTrader.py:255: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
________ TestRealtimeTraderBuildContext.test_build_context_with_price _________
tests\test_khRealtimeTrader.py:255: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
___________ TestRealtimeTraderPlaceOrder.test_place_order_no_trader ___________
tests\test_khRealtimeTrader.py:298: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
__________ TestRealtimeTraderPlaceOrder.test_place_order_with_trader __________
tests\test_khRealtimeTrader.py:298: in setUp
    self.trader = RealtimeTrader(self.config, "")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
____________ TestRealtimeTraderIntegration.test_full_trading_flow _____________
tests\test_khRealtimeTrader.py:347: in test_full_trading_flow
    trader = RealtimeTrader(config, "")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
khRealtimeTrader.py:82: in __init__
    self.trade_manager = KhTradeManager()
                         ^^^^^^^^^^^^^^^^
E   TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
============================== warnings summary ===============================
D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\xtquant\__init__.py:8
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\xtquant\__init__.py:8: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
    from pkg_resources import get_distribution

D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pkg_resources\__init__.py:3148
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\pkg_resources\__init__.py:3148: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(pkg)

D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\holidays\deprecations\v1_incompatibility.py:40
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\holidays\deprecations\v1_incompatibility.py:40: FutureIncompatibilityWarning: 
  
  This is a future version incompatibility warning from Holidays v0.69
  to inform you about an upcoming change in our API versioning strategy that may affect your
  project's dependencies. Starting from version 1.0 onwards, we will be following a loose form of
  Semantic Versioning (SemVer, https://semver.org) to provide clearer communication regarding any
  potential breaking changes.
  
  This means that while we strive to maintain backward compatibility, there might be occasional
  updates that introduce breaking changes to our API. To ensure the stability of your projects,
  we highly recommend pinning the version of our API that you rely on. You can pin your current
  holidays v0.x dependency (e.g., holidays==0.69) or limit it (e.g., holidays<1.0) in order to
  avoid potentially unwanted upgrade to the version 1.0 when it's released (ETA 2025Q1-Q2).
  
  If you have any questions or concerns regarding this change, please don't hesitate to reach out
  to us via https://github.com/vacanza/holidays/discussions/1800.
  
    warnings.warn(

tests/test_miniQMT_data_parser.py::TestMiniQMTDataParser::test_parse_tick_data_with_max_records
  G:\berton\oskhquant\tests\test_miniQMT_data_parser.py:125: FutureWarning: 'S' is deprecated and will be removed in a future version, please use 's' instead.
    mock_df.index = pd.date_range('2024-01-01 09:30:00', periods=100, freq='3S')

tests/test_trade_calendar_cache.py::test_cache_correctness
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\python.py:170: PytestReturnNotNoneWarning: Test functions should return None, but tests/test_trade_calendar_cache.py::test_cache_correctness returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/test_trade_calendar_cache.py::test_cache_hit_rate
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\python.py:170: PytestReturnNotNoneWarning: Test functions should return None, but tests/test_trade_calendar_cache.py::test_cache_hit_rate returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/test_trade_calendar_cache.py::test_cache_performance
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\python.py:170: PytestReturnNotNoneWarning: Test functions should return None, but tests/test_trade_calendar_cache.py::test_cache_performance returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/test_trade_calendar_cache.py::test_cache_management
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\python.py:170: PytestReturnNotNoneWarning: Test functions should return None, but tests/test_trade_calendar_cache.py::test_cache_management returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/test_trade_calendar_cache.py::test_get_trade_days_count_cache
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\python.py:170: PytestReturnNotNoneWarning: Test functions should return None, but tests/test_trade_calendar_cache.py::test_get_trade_days_count_cache returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

tests/test_trade_calendar_cache.py::test_response_time
  D:\scoop\apps\miniconda\current\envs\khquant-test\Lib\site-packages\_pytest\python.py:170: PytestReturnNotNoneWarning: Test functions should return None, but tests/test_trade_calendar_cache.py::test_response_time returned <class 'bool'>.
  Did you mean to use `assert` instead of `return`?
  See https://docs.pytest.org/en/stable/how-to/assert.html#return-not-none for more information.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=============================== tests coverage ================================
______________ coverage: platform win32, python 3.11.14-final-0 _______________

=========================== short test summary info ===========================
FAILED tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_custom_files_initialization -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_initial_state -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_scheduler_creation -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_stock_names_cache -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_timer_initialization -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_tools_initialization -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestGUISchedulerInitialization::test_window_title -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScreenResolutionDetection::test_1080p_resolution_font_scale -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScreenResolutionDetection::test_2k_resolution_font_scale -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScreenResolutionDetection::test_4k_resolution_font_scale -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScreenResolutionDetection::test_low_resolution_font_scale -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestStockPoolSelection::test_on_stock_pool_changed -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestStockPoolSelection::test_stock_pool_checkbox_types -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestStockPoolSelection::test_stock_pool_checkboxes_exist -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestPeriodSelection::test_default_period_selection -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestPeriodSelection::test_period_checkbox_types -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestPeriodSelection::test_period_checkboxes_exist -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScheduleConfiguration::test_default_supplement_time -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScheduleToggle::test_start_with_validation -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScheduleToggle::test_start_without_validation -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScheduleExecution::test_check_and_execute_on_non_trading_day -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScheduleExecution::test_check_and_execute_on_trading_day -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestImmediateExecution::test_immediate_execution_on_non_trading_day -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestImmediateExecution::test_immediate_execution_on_trading_day -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestValidation::test_validate_no_period -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestValidation::test_validate_no_stock_pool -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestValidation::test_validate_success -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestLogging::test_add_log -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestLogging::test_clear_log -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestCustomStockFile::test_clear_stock_pools -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestCustomStockFile::test_get_custom_pool_path -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestWindowClose::test_close_with_running_task_cancel -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestWindowClose::test_close_with_running_task_confirm -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestWindowClose::test_close_without_running_task -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScheduledSupplementThread::test_thread_creation -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScheduledSupplementThread::test_thread_initial_state -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestScheduledSupplementThread::test_thread_stop -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestSupplementDataWorker::test_worker_function_exists -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestStylesheetApplication::test_complete_scaled_stylesheet -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_GUIScheduler.py::TestStylesheetApplication::test_scaled_stylesheet_generation -   File "G:\berton\oskhquant\GUIScheduler.py", line 9
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
FAILED tests/test_SettingsDialog.py::TestAccountSettings::test_custom_account_id_loading - AssertionError: '8888888888' != '1234567890'
- 8888888888
+ 1234567890
FAILED tests/test_SettingsDialog.py::TestPathSettings::test_custom_qmt_path_loading - AssertionError: 'D:\\国金证券QMT交易端\\userdata_mini' != 'E:\\custom\\qmt\\path'
- D:\国金证券QMT交易端\userdata_mini
+ E:\custom\qmt\path
FAILED tests/test_SettingsDialog.py::TestSaveSettings::test_save_init_data_setting - AssertionError: False is not true
FAILED tests/test_khFrame.py::TestMyTraderCallback::test_on_disconnected - TypeError: not all arguments converted during string formatting
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderInit::test_trader_init_custom_config - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderInit::test_trader_init_default - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderInit::test_trader_init_with_alert_manager - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_get_all_quotes_after_update - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_get_all_quotes_empty - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_get_quote_empty - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_on_quote_callback - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderQuotes::test_on_quote_callback_not_running - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderStockManagement::test_add_stock - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderStockManagement::test_add_stock_duplicate - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderStockManagement::test_remove_stock - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderStockManagement::test_remove_stock_not_exists - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderLifecycle::test_initial_state - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderLifecycle::test_start_without_trader - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderLifecycle::test_stop - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestTraderCallback::test_callback_init - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestTraderCallback::test_callback_on_disconnected - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestCreateRealtimeTrader::test_create_realtime_trader - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderBuildContext::test_build_context_minimal - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderBuildContext::test_build_context_with_price - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderPlaceOrder::test_place_order_no_trader - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderPlaceOrder::test_place_order_with_trader - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
FAILED tests/test_khRealtimeTrader.py::TestRealtimeTraderIntegration::test_full_trading_flow - TypeError: KhTradeManager.__init__() missing 1 required positional argument: 'config'
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_buffer_size_empty -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_buffer_size_with_entries -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_load_level_low -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_load_level_medium -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_get_log_load_level_high -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_low_to_medium -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_medium_to_high -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_high_to_low -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_anti_jitter -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushDynamic::test_adjust_flush_interval_stable_load -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushIntegration::test_initial_flush_interval -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushIntegration::test_flush_parameters_initialized -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_log_flush_dynamic.py::TestLogFlushIntegration::test_on_flush_timer_calls_flush -   File "G:\berton\oskhquant\GUIkhQuant.py", line 12
    from logging_config import get_module_logger
    ^^^^
SyntaxError: invalid syntax
ERROR tests/test_version.py::TestVersionComparison::test_version_different_lengths - Failed: SETUP ERROR: Exceptions caught in Qt event loop:
________________________________________________________________________________
Traceback (most recent call last):
  File "G:\berton\oskhquant\update_manager.py", line 534, in _show_update_dialog
    msg = QMessageBox(self.parent)
          ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: arguments did not match any overloaded call:
  QMessageBox(parent: Optional[QWidget] = None): argument 1 has unexpected type 'QObject'
  QMessageBox(icon: QMessageBox.Icon, title: Optional[str], text: Optional[str], buttons: Union[QMessageBox.StandardButtons, QMessageBox.StandardButton] = QMessageBox.NoButton, parent: Optional[QWidget] = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.Dialog|Qt.MSWindowsFixedSizeDialogHint): argument 1 has unexpected type 'QObject'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "G:\berton\oskhquant\update_manager.py", line 486, in <lambda>
    QTimer.singleShot(100, lambda: self._show_update_dialog(version_info))
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "G:\berton\oskhquant\update_manager.py", line 557, in _show_update_dialog
    QMessageBox.critical(self.parent, "错误", f"显示更新对话框时出错: {str(e)}")
TypeError: critical(parent: Optional[QWidget], title: Optional[str], text: Optional[str], buttons: Union[QMessageBox.StandardButtons, QMessageBox.StandardButton] = QMessageBox.Ok, defaultButton: QMessageBox.StandardButton = QMessageBox.NoButton): argument 1 has unexpected type 'QObject'
________________________________________________________________________________
=== 67 failed, 534 passed, 91 deselected, 10 warnings, 14 errors in 33.60s ====

